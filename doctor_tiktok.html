<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
  <meta charset="UTF-8" />
  <title>中醫觀點｜龜鹿補養分享｜台興山產・仙加味</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="合作中醫師公開平台影片分享，彙整中醫觀點與日常補養節奏，作為選品與理解參考，不涉及醫療診斷或治療。" />
  <meta name="robots" content="index,follow">
  <link rel="canonical" href="https://ts15825868.github.io/TaiShing/doctor_tiktok.html">

  <!-- 全站既有 CSS/JS（保持一致） -->
  <link rel="stylesheet" href="theme_herbalrosegold.css">
  <link rel="stylesheet" href="style.css">
  <script src="main.js" defer></script>

  <style>
    .video-grid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 18px;
      margin-top: 18px;
    }
    @media (max-width: 768px){
      .video-grid{ grid-template-columns: 1fr; }
    }
    .video-card{
      background:#fff;
      border:1px solid rgba(0,0,0,.10);
      border-radius:16px;
      box-shadow: 0 10px 26px rgba(0,0,0,0.06);
      padding: 14px 14px 16px;
      overflow:hidden;
    }
    .video-card h3{
      font-size: 1.05rem;
      margin: 0 0 10px;
      letter-spacing: .04em;
      color: var(--color-primary-deep);
    }
    .video-fallback{
      margin-top: 10px;
      font-size: .95rem;
    }
    .video-fallback a{
      text-decoration: underline;
      color: var(--color-primary-deep);
    }
    .tiktok-embed{
      margin: 0 !important;
      max-width: 100% !important;
      min-width: 0 !important;
    }
  </style>
</head>

<body>
<div class="site-wrapper">

  <!-- HEADER（全站統一順序 + 漢堡按鈕） -->
  <header class="site-header">
    <div class="header-inner">
      <a href="index.html" class="brand-block">
        <img src="images/logo-pro.jpeg" alt="台興山產 Logo" class="site-logo" loading="lazy">
        <div class="brand-text">
          <p class="brand-since">SINCE 1978</p>
          <p class="brand-title">台興山產・仙加味</p>
        </div>
      </a>

      <button class="nav-toggle" type="button" aria-label="切換主選單">☰</button>

      <nav class="site-nav">
        <ul>
          <li><a href="index.html" class="nav-link">首頁</a></li>
          <li><a href="index.html#all-products" class="nav-link">產品總覽</a></li>
          <li><a href="guide.html" class="nav-link">依需求挑選</a></li>
          <li><a href="doctor_tiktok.html" class="nav-link nav-link--active">中醫觀點</a></li>
          <li><a href="about.html" class="nav-link">關於我們</a></li>
          <li><a href="faq.html" class="nav-link">常見問題</a></li>
          <li><a href="contact.html" class="nav-link">聯絡我們</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="site-main simple-page">

    <section class="section reveal">
      <div class="section-kicker">TCM VIEW</div>
      <h1 class="page-title">中醫觀點｜龜鹿補養分享</h1>
      <p>
        本頁整理合作中醫師於公開平台分享的影片內容，  
        以「中醫觀點 × 日常補養節奏」為主，僅作為知識交流與理解參考，
        <strong>不涉及醫療診斷或治療</strong>。
      </p>
      <div class="contact-actions">
        <a href="https://lin.ee/sHZW7NkR" class="btn-line-strong" target="_blank" rel="noopener">LINE 諮詢</a>
        <a href="index.html#all-products" class="btn-outline">回到產品總覽</a>
      </div>
    </section>

    <section class="section reveal">
      <div class="section-kicker">VIDEOS</div>
      <h2 class="section-title">影片列表（自動排序：最新在上）</h2>
      <p class="page-subtitle">
        若因瀏覽器隱私設定無法顯示嵌入影片，可使用卡片下方「開啟原影片」直接觀看。
      </p>

      <!-- ✅ JS 會把卡片自動塞進這裡 -->
      <div class="video-grid" id="videoGrid"></div>
    </section>

  </main>

  <footer class="site-footer">
    <p class="footer-brand">台興山產有限公司・仙加味</p>
    <p class="footer-meta">
      公司地址：台北市萬華區西昌街 52 號<br>
      電話：<a href="tel:+886223812990">(02) 2381-2990</a><br>
      © 台興山產 版權所有
    </p>
  </footer>

</div>

<!-- TikTok 官方嵌入脚本（必须） -->
<script async src="https://www.tiktok.com/embed.js"></script>

<script>
/**
 * ✅ 你只要改這裡：新增/刪除影片
 * - videoId：TikTok 影片 ID（數字字串）
 * - url：原影片連結
 * - title：顯示在卡片上的標題（可留空，會自動生成）
 */
const VIDEO_LIST = [
  { videoId: "7440039107708914945", url: "https://www.tiktok.com/@changwuchi2023/video/7440039107708914945", title: "中醫觀點分享 01" },
  { videoId: "7441142424518315280", url: "https://www.tiktok.com/@changwuchi2023/video/7441142424518315280", title: "中醫觀點分享 02" },
  { videoId: "7441892944057027896", url: "https://www.tiktok.com/@changwuchi2023/video/7441892944057027896", title: "中醫觀點分享 03" },
  { videoId: "7442637133308759352", url: "https://www.tiktok.com/@changwuchi2023/video/7442637133308759352", title: "中醫觀點分享 04" },
  { videoId: "7443754721195691319", url: "https://www.tiktok.com/@changwuchi2023/video/7443754721195691319", title: "中醫觀點分享 05" },
  { videoId: "7444051217757752583", url: "https://www.tiktok.com/@changwuchi2023/video/7444051217757752583", title: "中醫觀點分享 06" },
  { videoId: "7444467481059560712", url: "https://www.tiktok.com/@changwuchi2023/video/7444467481059560712", title: "中醫觀點分享 07" },
  { videoId: "7444622264642833671", url: "https://www.tiktok.com/@changwuchi2023/video/7444622264642833671", title: "中醫觀點分享 08" },
  { videoId: "7445221794769898759", url: "https://www.tiktok.com/@changwuchi2023/video/7445221794769898759", title: "中醫觀點分享 09" },
  { videoId: "7446332181263289607", url: "https://www.tiktok.com/@changwuchi2023/video/7446332181263289607", title: "中醫觀點分享 10" },
  { videoId: "7475988696827727112", url: "https://www.tiktok.com/@changwuchi2023/video/7475988696827727112", title: "中醫觀點分享 11" },
  { videoId: "7561374523564543249", url: "https://www.tiktok.com/@changwuchi2023/video/7561374523564543249", title: "中醫觀點分享 12" }
];

/** 依 videoId 由大到小排序（通常越新越大） */
function sortByNewest(list){
  return [...list].sort((a, b) => {
    const A = BigInt(String(a.videoId || "0"));
    const B = BigInt(String(b.videoId || "0"));
    return B > A ? 1 : (B < A ? -1 : 0);
  });
}

/** 生成 TikTok embed blockquote */
function renderCard(item, index){
  const safeTitle = (item.title && String(item.title).trim())
    ? item.title
    : `中醫觀點分享 ${String(index + 1).padStart(2, "0")}`;

  const vid = String(item.videoId).trim();
  const url = String(item.url).trim();

  // 注意：TikTok embed.js 會讀取 class="tiktok-embed" 的 blockquote 來渲染
  return `
    <article class="video-card">
      <h3>${escapeHtml(safeTitle)}</h3>
      <blockquote class="tiktok-embed" cite="${escapeAttr(url)}" data-video-id="${escapeAttr(vid)}">
        <section></section>
      </blockquote>
      <p class="video-fallback">
        <a href="${escapeAttr(url)}" target="_blank" rel="noopener">開啟原影片</a>
      </p>
    </article>
  `;
}

/** 基本字元轉義，避免標題帶入特殊字元破版 */
function escapeHtml(str){
  return String(str)
    .replaceAll("&", "&amp;")
    .replaceAll("<", "&lt;")
    .replaceAll(">", "&gt;")
    .replaceAll('"', "&quot;")
    .replaceAll("'", "&#039;");
}
function escapeAttr(str){
  return String(str)
    .replaceAll("&", "&amp;")
    .replaceAll('"', "&quot;")
    .replaceAll("<", "&lt;")
    .replaceAll(">", "&gt;");
}

/** 主流程：排序 → render → 重新觸發 TikTok 解析 */
(function init(){
  const grid = document.getElementById("videoGrid");
  if (!grid) return;

  const sorted = sortByNewest(VIDEO_LIST);

  // ✅ 自動把標題改成「新 → 舊」序號：你也可保留原 title，不想改就把下面兩行拿掉
  // sorted.forEach((it, idx) => { it.title = `中醫觀點分享 ${String(sorted.length - idx).padStart(2, "0")}`; });

  grid.innerHTML = sorted.map(renderCard).join("");

  // ✅ 重新讓 TikTok embed.js 解析剛塞進去的 blockquote
  // TikTok 沒有官方公開的 refresh API；最穩做法是「移除再加回 script」，讓它重跑一次。
  reloadTikTokEmbedScript();
})();

function reloadTikTokEmbedScript(){
  const SRC = "https://www.tiktok.com/embed.js";
  const old = document.querySelector(`script[src="${SRC}"]`);
  if (old) old.remove();

  const s = document.createElement("script");
  s.src = SRC;
  s.async = true;
  document.body.appendChild(s);
}
</script>

</body>
</html>
